2025-11-08 21:27:46,482 - fedguard_client - INFO - ============================================================
2025-11-08 21:27:46,482 - fedguard_client - INFO - FEDERATED CLIENT: Client-02
2025-11-08 21:27:46,482 - fedguard_client - INFO - ============================================================
2025-11-08 21:27:46,483 - fedguard_client - INFO - Loading model from C:\Users\Nandini Devi\FedGuard-Project\results\models\ucsd_baseline.h5...
2025-11-08 21:27:54,150 - fedguard_client - INFO - [OK] Model loaded successfully
2025-11-08 21:27:54,150 - fedguard_client - INFO - Connecting to Kafka at localhost:9092 (topic: model-updates)...
2025-11-08 21:27:54,157 - kafka.conn - INFO - <BrokerConnection node_id=bootstrap-0 host=localhost:9092 <connecting> [IPv6 ('::1', 9092, 0, 0)]>: connecting to localhost:9092 [('::1', 9092, 0, 0) IPv6]
2025-11-08 21:27:54,160 - kafka.conn - INFO - Probing node bootstrap-0 broker version
2025-11-08 21:27:54,161 - kafka.conn - INFO - <BrokerConnection node_id=bootstrap-0 host=localhost:9092 <connecting> [IPv6 ('::1', 9092, 0, 0)]>: Connection complete.
2025-11-08 21:27:54,268 - kafka.conn - INFO - Broker version identified as 2.5.0
2025-11-08 21:27:54,268 - kafka.conn - INFO - Set configuration api_version=(2, 5, 0) to skip auto check_version requests on startup
2025-11-08 21:27:54,272 - fedguard_client - INFO - [OK] Kafka producer initialized
2025-11-08 21:27:54,272 - fedguard_client - INFO - Loading frames from: C:\Users\Nandini Devi\Downloads\uropds\UCSD_Anomaly_Dataset.v1p2\UCSDped1\Train\Train002
2025-11-08 21:27:54,349 - fedguard_client - INFO - [OK] Found 200 frames
2025-11-08 21:27:54,350 - fedguard_client - INFO - Frames per update: 16, Train batch size: 8, Image size: 128
2025-11-08 21:27:54,741 - fedguard_client - INFO - 
[Update #1] Collected 16 frames
2025-11-08 21:27:54,742 - fedguard_client - INFO - Performing local training...
2025-11-08 21:27:54,941 - fedguard_client - ERROR - Unexpected error during training
Traceback (most recent call last):
  File "C:\Users\Nandini Devi\FedGuard-Project\federated\federated_client.py", line 162, in main
    history = model.fit(
  File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\utils\traceback_utils.py", line 70, in error_handler
    raise e.with_traceback(filtered_tb) from None
  File "C:\Users\NANDIN~1\AppData\Local\Temp\__autograph_generated_fileqehv1tdf.py", line 15, in tf__train_function
    retval_ = ag__.converted_call(ag__.ld(step_function), (ag__.ld(self), ag__.ld(iterator)), None, fscope)
ValueError: in user code:

    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1338, in train_function  *
        return step_function(self, iterator)
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1322, in step_function  **
        outputs = model.distribute_strategy.run(run_step, args=(data,))
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1303, in run_step  **
        outputs = model.train_step(data)
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1080, in train_step
        y_pred = self(x, training=True)
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\utils\traceback_utils.py", line 70, in error_handler
        raise e.with_traceback(filtered_tb) from None
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\input_spec.py", line 298, in assert_input_compatibility
        raise ValueError(

    ValueError: Input 0 of layer "autoencoder" is incompatible with the layer: expected shape=(None, 256, 256, 1), found shape=(8, 128, 128, 1)

2025-11-08 21:27:54,944 - fedguard_client - WARNING - Training failed or OOM. Training time: 0.20s
2025-11-08 21:27:56,162 - fedguard_client - INFO - Sending update to Kafka topic: 'model-updates' (payload size: 6508784 bytes, status: training_failed)...
2025-11-08 21:27:56,175 - kafka.conn - INFO - <BrokerConnection node_id=1 host=localhost:9092 <connecting> [IPv6 ('::1', 9092, 0, 0)]>: connecting to localhost:9092 [('::1', 9092, 0, 0) IPv6]
2025-11-08 21:27:56,177 - kafka.conn - INFO - <BrokerConnection node_id=1 host=localhost:9092 <connecting> [IPv6 ('::1', 9092, 0, 0)]>: Connection complete.
2025-11-08 21:27:56,177 - kafka.conn - INFO - <BrokerConnection node_id=bootstrap-0 host=localhost:9092 <connected> [IPv6 ('::1', 9092, 0, 0)]>: Closing connection. 
2025-11-08 21:27:59,056 - fedguard_client - INFO - [OK] Update sent successfully (Send time: 2.89s)
2025-11-08 21:27:59,057 - fedguard_client - INFO - Total updates sent: 1
2025-11-08 21:27:59,057 - fedguard_client - INFO - Avg training time: 0.20s
2025-11-08 21:27:59,495 - fedguard_client - INFO - 
[Update #2] Collected 16 frames
2025-11-08 21:27:59,497 - fedguard_client - INFO - Performing local training...
2025-11-08 21:27:59,609 - fedguard_client - ERROR - Unexpected error during training
Traceback (most recent call last):
  File "C:\Users\Nandini Devi\FedGuard-Project\federated\federated_client.py", line 162, in main
    history = model.fit(
  File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\utils\traceback_utils.py", line 70, in error_handler
    raise e.with_traceback(filtered_tb) from None
  File "C:\Users\NANDIN~1\AppData\Local\Temp\__autograph_generated_fileqehv1tdf.py", line 15, in tf__train_function
    retval_ = ag__.converted_call(ag__.ld(step_function), (ag__.ld(self), ag__.ld(iterator)), None, fscope)
ValueError: in user code:

    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1338, in train_function  *
        return step_function(self, iterator)
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1322, in step_function  **
        outputs = model.distribute_strategy.run(run_step, args=(data,))
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1303, in run_step  **
        outputs = model.train_step(data)
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1080, in train_step
        y_pred = self(x, training=True)
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\utils\traceback_utils.py", line 70, in error_handler
        raise e.with_traceback(filtered_tb) from None
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\input_spec.py", line 298, in assert_input_compatibility
        raise ValueError(

    ValueError: Input 0 of layer "autoencoder" is incompatible with the layer: expected shape=(None, 256, 256, 1), found shape=(8, 128, 128, 1)

2025-11-08 21:27:59,610 - fedguard_client - WARNING - Training failed or OOM. Training time: 0.11s
2025-11-08 21:28:00,819 - fedguard_client - INFO - Sending update to Kafka topic: 'model-updates' (payload size: 6508784 bytes, status: training_failed)...
2025-11-08 21:28:03,170 - fedguard_client - INFO - [OK] Update sent successfully (Send time: 2.35s)
2025-11-08 21:28:03,174 - fedguard_client - INFO - Total updates sent: 2
2025-11-08 21:28:03,175 - fedguard_client - INFO - Avg training time: 0.16s
2025-11-08 21:28:03,741 - fedguard_client - INFO - 
[Update #3] Collected 16 frames
2025-11-08 21:28:03,742 - fedguard_client - INFO - Performing local training...
2025-11-08 21:28:03,858 - fedguard_client - ERROR - Unexpected error during training
Traceback (most recent call last):
  File "C:\Users\Nandini Devi\FedGuard-Project\federated\federated_client.py", line 162, in main
    history = model.fit(
  File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\utils\traceback_utils.py", line 70, in error_handler
    raise e.with_traceback(filtered_tb) from None
  File "C:\Users\NANDIN~1\AppData\Local\Temp\__autograph_generated_fileqehv1tdf.py", line 15, in tf__train_function
    retval_ = ag__.converted_call(ag__.ld(step_function), (ag__.ld(self), ag__.ld(iterator)), None, fscope)
ValueError: in user code:

    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1338, in train_function  *
        return step_function(self, iterator)
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1322, in step_function  **
        outputs = model.distribute_strategy.run(run_step, args=(data,))
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1303, in run_step  **
        outputs = model.train_step(data)
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1080, in train_step
        y_pred = self(x, training=True)
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\utils\traceback_utils.py", line 70, in error_handler
        raise e.with_traceback(filtered_tb) from None
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\input_spec.py", line 298, in assert_input_compatibility
        raise ValueError(

    ValueError: Input 0 of layer "autoencoder" is incompatible with the layer: expected shape=(None, 256, 256, 1), found shape=(8, 128, 128, 1)

2025-11-08 21:28:03,859 - fedguard_client - WARNING - Training failed or OOM. Training time: 0.12s
2025-11-08 21:28:05,065 - fedguard_client - INFO - Sending update to Kafka topic: 'model-updates' (payload size: 6508784 bytes, status: training_failed)...
2025-11-08 21:28:07,375 - fedguard_client - INFO - [OK] Update sent successfully (Send time: 2.31s)
2025-11-08 21:28:07,380 - fedguard_client - INFO - Total updates sent: 3
2025-11-08 21:28:07,383 - fedguard_client - INFO - Avg training time: 0.14s
2025-11-08 21:28:07,822 - fedguard_client - INFO - 
[Update #4] Collected 16 frames
2025-11-08 21:28:07,823 - fedguard_client - INFO - Performing local training...
2025-11-08 21:28:07,931 - fedguard_client - ERROR - Unexpected error during training
Traceback (most recent call last):
  File "C:\Users\Nandini Devi\FedGuard-Project\federated\federated_client.py", line 162, in main
    history = model.fit(
  File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\utils\traceback_utils.py", line 70, in error_handler
    raise e.with_traceback(filtered_tb) from None
  File "C:\Users\NANDIN~1\AppData\Local\Temp\__autograph_generated_fileqehv1tdf.py", line 15, in tf__train_function
    retval_ = ag__.converted_call(ag__.ld(step_function), (ag__.ld(self), ag__.ld(iterator)), None, fscope)
ValueError: in user code:

    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1338, in train_function  *
        return step_function(self, iterator)
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1322, in step_function  **
        outputs = model.distribute_strategy.run(run_step, args=(data,))
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1303, in run_step  **
        outputs = model.train_step(data)
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1080, in train_step
        y_pred = self(x, training=True)
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\utils\traceback_utils.py", line 70, in error_handler
        raise e.with_traceback(filtered_tb) from None
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\input_spec.py", line 298, in assert_input_compatibility
        raise ValueError(

    ValueError: Input 0 of layer "autoencoder" is incompatible with the layer: expected shape=(None, 256, 256, 1), found shape=(8, 128, 128, 1)

2025-11-08 21:28:07,934 - fedguard_client - WARNING - Training failed or OOM. Training time: 0.11s
2025-11-08 21:28:09,070 - fedguard_client - INFO - Sending update to Kafka topic: 'model-updates' (payload size: 6508784 bytes, status: training_failed)...
2025-11-08 21:28:11,900 - fedguard_client - INFO - [OK] Update sent successfully (Send time: 2.83s)
2025-11-08 21:28:11,901 - fedguard_client - INFO - Total updates sent: 4
2025-11-08 21:28:11,902 - fedguard_client - INFO - Avg training time: 0.14s
2025-11-08 21:28:12,507 - fedguard_client - INFO - 
[Update #5] Collected 16 frames
2025-11-08 21:28:12,510 - fedguard_client - INFO - Performing local training...
2025-11-08 21:28:12,661 - fedguard_client - ERROR - Unexpected error during training
Traceback (most recent call last):
  File "C:\Users\Nandini Devi\FedGuard-Project\federated\federated_client.py", line 162, in main
    history = model.fit(
  File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\utils\traceback_utils.py", line 70, in error_handler
    raise e.with_traceback(filtered_tb) from None
  File "C:\Users\NANDIN~1\AppData\Local\Temp\__autograph_generated_fileqehv1tdf.py", line 15, in tf__train_function
    retval_ = ag__.converted_call(ag__.ld(step_function), (ag__.ld(self), ag__.ld(iterator)), None, fscope)
ValueError: in user code:

    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1338, in train_function  *
        return step_function(self, iterator)
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1322, in step_function  **
        outputs = model.distribute_strategy.run(run_step, args=(data,))
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1303, in run_step  **
        outputs = model.train_step(data)
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1080, in train_step
        y_pred = self(x, training=True)
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\utils\traceback_utils.py", line 70, in error_handler
        raise e.with_traceback(filtered_tb) from None
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\input_spec.py", line 298, in assert_input_compatibility
        raise ValueError(

    ValueError: Input 0 of layer "autoencoder" is incompatible with the layer: expected shape=(None, 256, 256, 1), found shape=(8, 128, 128, 1)

2025-11-08 21:28:12,664 - fedguard_client - WARNING - Training failed or OOM. Training time: 0.15s
2025-11-08 21:28:14,037 - fedguard_client - INFO - Sending update to Kafka topic: 'model-updates' (payload size: 6508784 bytes, status: training_failed)...
2025-11-08 21:28:16,989 - fedguard_client - INFO - [OK] Update sent successfully (Send time: 2.95s)
2025-11-08 21:28:16,990 - fedguard_client - INFO - Total updates sent: 5
2025-11-08 21:28:16,990 - fedguard_client - INFO - Avg training time: 0.14s
2025-11-08 21:28:17,470 - fedguard_client - INFO - 
[Update #6] Collected 16 frames
2025-11-08 21:28:17,471 - fedguard_client - INFO - Performing local training...
2025-11-08 21:28:17,586 - fedguard_client - ERROR - Unexpected error during training
Traceback (most recent call last):
  File "C:\Users\Nandini Devi\FedGuard-Project\federated\federated_client.py", line 162, in main
    history = model.fit(
  File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\utils\traceback_utils.py", line 70, in error_handler
    raise e.with_traceback(filtered_tb) from None
  File "C:\Users\NANDIN~1\AppData\Local\Temp\__autograph_generated_fileqehv1tdf.py", line 15, in tf__train_function
    retval_ = ag__.converted_call(ag__.ld(step_function), (ag__.ld(self), ag__.ld(iterator)), None, fscope)
ValueError: in user code:

    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1338, in train_function  *
        return step_function(self, iterator)
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1322, in step_function  **
        outputs = model.distribute_strategy.run(run_step, args=(data,))
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1303, in run_step  **
        outputs = model.train_step(data)
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1080, in train_step
        y_pred = self(x, training=True)
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\utils\traceback_utils.py", line 70, in error_handler
        raise e.with_traceback(filtered_tb) from None
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\input_spec.py", line 298, in assert_input_compatibility
        raise ValueError(

    ValueError: Input 0 of layer "autoencoder" is incompatible with the layer: expected shape=(None, 256, 256, 1), found shape=(8, 128, 128, 1)

2025-11-08 21:28:17,588 - fedguard_client - WARNING - Training failed or OOM. Training time: 0.12s
2025-11-08 21:28:18,781 - fedguard_client - INFO - Sending update to Kafka topic: 'model-updates' (payload size: 6508784 bytes, status: training_failed)...
2025-11-08 21:28:21,099 - fedguard_client - INFO - [OK] Update sent successfully (Send time: 2.32s)
2025-11-08 21:28:21,104 - fedguard_client - INFO - Total updates sent: 6
2025-11-08 21:28:21,104 - fedguard_client - INFO - Avg training time: 0.14s
2025-11-08 21:28:21,595 - fedguard_client - INFO - 
[Update #7] Collected 16 frames
2025-11-08 21:28:21,596 - fedguard_client - INFO - Performing local training...
2025-11-08 21:28:21,744 - fedguard_client - ERROR - Unexpected error during training
Traceback (most recent call last):
  File "C:\Users\Nandini Devi\FedGuard-Project\federated\federated_client.py", line 162, in main
    history = model.fit(
  File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\utils\traceback_utils.py", line 70, in error_handler
    raise e.with_traceback(filtered_tb) from None
  File "C:\Users\NANDIN~1\AppData\Local\Temp\__autograph_generated_fileqehv1tdf.py", line 15, in tf__train_function
    retval_ = ag__.converted_call(ag__.ld(step_function), (ag__.ld(self), ag__.ld(iterator)), None, fscope)
ValueError: in user code:

    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1338, in train_function  *
        return step_function(self, iterator)
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1322, in step_function  **
        outputs = model.distribute_strategy.run(run_step, args=(data,))
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1303, in run_step  **
        outputs = model.train_step(data)
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1080, in train_step
        y_pred = self(x, training=True)
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\utils\traceback_utils.py", line 70, in error_handler
        raise e.with_traceback(filtered_tb) from None
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\input_spec.py", line 298, in assert_input_compatibility
        raise ValueError(

    ValueError: Input 0 of layer "autoencoder" is incompatible with the layer: expected shape=(None, 256, 256, 1), found shape=(8, 128, 128, 1)

2025-11-08 21:28:21,744 - fedguard_client - WARNING - Training failed or OOM. Training time: 0.15s
2025-11-08 21:28:22,966 - fedguard_client - INFO - Sending update to Kafka topic: 'model-updates' (payload size: 6508784 bytes, status: training_failed)...
2025-11-08 21:28:25,077 - fedguard_client - INFO - [OK] Update sent successfully (Send time: 2.11s)
2025-11-08 21:28:25,078 - fedguard_client - INFO - Total updates sent: 7
2025-11-08 21:28:25,084 - fedguard_client - INFO - Avg training time: 0.14s
2025-11-08 21:28:25,622 - fedguard_client - INFO - 
[Update #8] Collected 16 frames
2025-11-08 21:28:25,624 - fedguard_client - INFO - Performing local training...
2025-11-08 21:28:25,748 - fedguard_client - ERROR - Unexpected error during training
Traceback (most recent call last):
  File "C:\Users\Nandini Devi\FedGuard-Project\federated\federated_client.py", line 162, in main
    history = model.fit(
  File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\utils\traceback_utils.py", line 70, in error_handler
    raise e.with_traceback(filtered_tb) from None
  File "C:\Users\NANDIN~1\AppData\Local\Temp\__autograph_generated_fileqehv1tdf.py", line 15, in tf__train_function
    retval_ = ag__.converted_call(ag__.ld(step_function), (ag__.ld(self), ag__.ld(iterator)), None, fscope)
ValueError: in user code:

    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1338, in train_function  *
        return step_function(self, iterator)
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1322, in step_function  **
        outputs = model.distribute_strategy.run(run_step, args=(data,))
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1303, in run_step  **
        outputs = model.train_step(data)
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1080, in train_step
        y_pred = self(x, training=True)
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\utils\traceback_utils.py", line 70, in error_handler
        raise e.with_traceback(filtered_tb) from None
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\input_spec.py", line 298, in assert_input_compatibility
        raise ValueError(

    ValueError: Input 0 of layer "autoencoder" is incompatible with the layer: expected shape=(None, 256, 256, 1), found shape=(8, 128, 128, 1)

2025-11-08 21:28:25,749 - fedguard_client - WARNING - Training failed or OOM. Training time: 0.12s
2025-11-08 21:28:27,125 - fedguard_client - INFO - Sending update to Kafka topic: 'model-updates' (payload size: 6508784 bytes, status: training_failed)...
2025-11-08 21:28:29,361 - fedguard_client - INFO - [OK] Update sent successfully (Send time: 2.24s)
2025-11-08 21:28:29,364 - fedguard_client - INFO - Total updates sent: 8
2025-11-08 21:28:29,366 - fedguard_client - INFO - Avg training time: 0.14s
2025-11-08 21:28:29,863 - fedguard_client - INFO - 
[Update #9] Collected 16 frames
2025-11-08 21:28:29,864 - fedguard_client - INFO - Performing local training...
2025-11-08 21:28:29,986 - fedguard_client - ERROR - Unexpected error during training
Traceback (most recent call last):
  File "C:\Users\Nandini Devi\FedGuard-Project\federated\federated_client.py", line 162, in main
    history = model.fit(
  File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\utils\traceback_utils.py", line 70, in error_handler
    raise e.with_traceback(filtered_tb) from None
  File "C:\Users\NANDIN~1\AppData\Local\Temp\__autograph_generated_fileqehv1tdf.py", line 15, in tf__train_function
    retval_ = ag__.converted_call(ag__.ld(step_function), (ag__.ld(self), ag__.ld(iterator)), None, fscope)
ValueError: in user code:

    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1338, in train_function  *
        return step_function(self, iterator)
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1322, in step_function  **
        outputs = model.distribute_strategy.run(run_step, args=(data,))
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1303, in run_step  **
        outputs = model.train_step(data)
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1080, in train_step
        y_pred = self(x, training=True)
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\utils\traceback_utils.py", line 70, in error_handler
        raise e.with_traceback(filtered_tb) from None
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\input_spec.py", line 298, in assert_input_compatibility
        raise ValueError(

    ValueError: Input 0 of layer "autoencoder" is incompatible with the layer: expected shape=(None, 256, 256, 1), found shape=(8, 128, 128, 1)

2025-11-08 21:28:29,988 - fedguard_client - WARNING - Training failed or OOM. Training time: 0.12s
2025-11-08 21:28:31,053 - fedguard_client - INFO - Sending update to Kafka topic: 'model-updates' (payload size: 6508784 bytes, status: training_failed)...
2025-11-08 21:28:33,317 - fedguard_client - INFO - [OK] Update sent successfully (Send time: 2.26s)
2025-11-08 21:28:33,319 - fedguard_client - INFO - Total updates sent: 9
2025-11-08 21:28:33,322 - fedguard_client - INFO - Avg training time: 0.13s
2025-11-08 21:28:33,840 - fedguard_client - INFO - 
[Update #10] Collected 16 frames
2025-11-08 21:28:33,840 - fedguard_client - INFO - Performing local training...
2025-11-08 21:28:33,945 - fedguard_client - ERROR - Unexpected error during training
Traceback (most recent call last):
  File "C:\Users\Nandini Devi\FedGuard-Project\federated\federated_client.py", line 162, in main
    history = model.fit(
  File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\utils\traceback_utils.py", line 70, in error_handler
    raise e.with_traceback(filtered_tb) from None
  File "C:\Users\NANDIN~1\AppData\Local\Temp\__autograph_generated_fileqehv1tdf.py", line 15, in tf__train_function
    retval_ = ag__.converted_call(ag__.ld(step_function), (ag__.ld(self), ag__.ld(iterator)), None, fscope)
ValueError: in user code:

    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1338, in train_function  *
        return step_function(self, iterator)
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1322, in step_function  **
        outputs = model.distribute_strategy.run(run_step, args=(data,))
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1303, in run_step  **
        outputs = model.train_step(data)
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\training.py", line 1080, in train_step
        y_pred = self(x, training=True)
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\utils\traceback_utils.py", line 70, in error_handler
        raise e.with_traceback(filtered_tb) from None
    File "C:\Users\Nandini Devi\FedGuard-Project\venv\lib\site-packages\keras\src\engine\input_spec.py", line 298, in assert_input_compatibility
        raise ValueError(

    ValueError: Input 0 of layer "autoencoder" is incompatible with the layer: expected shape=(None, 256, 256, 1), found shape=(8, 128, 128, 1)

2025-11-08 21:28:33,945 - fedguard_client - WARNING - Training failed or OOM. Training time: 0.10s
2025-11-08 21:28:35,097 - fedguard_client - INFO - Sending update to Kafka topic: 'model-updates' (payload size: 6508784 bytes, status: training_failed)...
2025-11-08 21:28:37,254 - fedguard_client - INFO - Keyboard interrupt - shutting down client
2025-11-08 21:28:37,256 - fedguard_client - INFO - Cleaning up client...
2025-11-08 21:28:37,313 - kafka.producer.kafka - INFO - Closing the Kafka producer with 4294967.0 secs timeout.
2025-11-08 21:28:37,314 - kafka.conn - INFO - <BrokerConnection node_id=1 host=localhost:9092 <connected> [IPv6 ('::1', 9092, 0, 0)]>: Closing connection. 
2025-11-08 21:28:37,315 - fedguard_client - INFO - Client Client-02 shut down successfully
