2025-12-01 14:27:57,124 - fedguard_server - INFO - ============================================================
2025-12-01 14:27:57,125 - fedguard_server - INFO - FEDGUARD SECURE SERVER
2025-12-01 14:27:57,125 - fedguard_server - INFO - ============================================================
2025-12-01 14:27:57,125 - fedguard_server - INFO - Defense method: mad
2025-12-01 14:27:57,126 - fedguard_server - INFO - Aggregation method: mean
2025-12-01 14:27:57,126 - fedguard_server - INFO - Expected clients: 4
2025-12-01 14:27:57,126 - fedguard_server - INFO - Min honest clients: 1
2025-12-01 14:27:57,127 - fedguard_server - INFO - Loading baseline model from C:\Users\Nandini Devi\FedGuard-Project\results\models\ucsd_baseline.h5...
2025-12-01 14:28:02,184 - fedguard_server - INFO - [OK] Baseline model loaded successfully
2025-12-01 14:28:02,210 - fedguard_server - INFO - Model architecture: 20 layers
2025-12-01 14:28:02,211 - fedguard_server - INFO - Expected weight tensors: 30
2025-12-01 14:28:02,212 - fedguard_server - INFO - Connecting to Kafka at localhost:9092 (topic: model-updates)...
2025-12-01 14:28:02,220 - kafka.conn - INFO - <BrokerConnection node_id=bootstrap-0 host=localhost:9092 <connecting> [IPv6 ('::1', 9092, 0, 0)]>: connecting to localhost:9092 [('::1', 9092, 0, 0) IPv6]
2025-12-01 14:28:02,221 - kafka.conn - INFO - Probing node bootstrap-0 broker version
2025-12-01 14:28:02,223 - kafka.conn - INFO - <BrokerConnection node_id=bootstrap-0 host=localhost:9092 <connecting> [IPv6 ('::1', 9092, 0, 0)]>: Connection complete.
2025-12-01 14:28:02,336 - kafka.conn - INFO - Broker version identified as 2.5.0
2025-12-01 14:28:02,337 - kafka.conn - INFO - Set configuration api_version=(2, 5, 0) to skip auto check_version requests on startup
2025-12-01 14:28:02,338 - kafka.consumer.subscription_state - INFO - Updating subscribed topics to: ('model-updates',)
2025-12-01 14:28:02,339 - fedguard_server - INFO - [OK] Kafka consumer initialized
2025-12-01 14:28:02,339 - fedguard_server - INFO - 
SERVER RUNNING - Waiting for client updates

2025-12-01 14:28:02,342 - kafka.cluster - INFO - Group coordinator for fedguard-server is BrokerMetadata(nodeId='coordinator-1', host='localhost', port=9092, rack=None)
2025-12-01 14:28:02,344 - kafka.coordinator - INFO - Discovered coordinator coordinator-1 for group fedguard-server
2025-12-01 14:28:02,344 - kafka.coordinator - INFO - Starting new heartbeat thread
2025-12-01 14:28:02,346 - kafka.coordinator.consumer - INFO - Revoking previously assigned partitions set() for group fedguard-server
2025-12-01 14:28:02,348 - kafka.conn - INFO - <BrokerConnection node_id=coordinator-1 host=localhost:9092 <connecting> [IPv6 ('::1', 9092, 0, 0)]>: connecting to localhost:9092 [('::1', 9092, 0, 0) IPv6]
2025-12-01 14:28:02,349 - kafka.conn - INFO - <BrokerConnection node_id=coordinator-1 host=localhost:9092 <connecting> [IPv6 ('::1', 9092, 0, 0)]>: Connection complete.
2025-12-01 14:28:02,350 - kafka.conn - INFO - <BrokerConnection node_id=bootstrap-0 host=localhost:9092 <connected> [IPv6 ('::1', 9092, 0, 0)]>: Closing connection. 
2025-12-01 14:28:02,460 - kafka.coordinator - INFO - (Re-)joining group fedguard-server
2025-12-01 14:28:05,478 - kafka.coordinator - INFO - Elected group leader -- performing partition assignments using range
2025-12-01 14:28:05,480 - kafka.conn - INFO - <BrokerConnection node_id=1 host=localhost:9092 <connecting> [IPv6 ('::1', 9092, 0, 0)]>: connecting to localhost:9092 [('::1', 9092, 0, 0) IPv6]
2025-12-01 14:28:05,482 - kafka.conn - INFO - <BrokerConnection node_id=1 host=localhost:9092 <connecting> [IPv6 ('::1', 9092, 0, 0)]>: Connection complete.
2025-12-01 14:28:05,494 - kafka.coordinator - INFO - Successfully joined group fedguard-server with generation 15
2025-12-01 14:28:05,496 - kafka.consumer.subscription_state - INFO - Updated partition assignment: [TopicPartition(topic='model-updates', partition=0)]
2025-12-01 14:28:05,496 - kafka.coordinator.consumer - INFO - Setting newly assigned partitions {TopicPartition(topic='model-updates', partition=0)} for group fedguard-server
2025-12-01 14:28:06,066 - fedguard_server - INFO - 
[Round 1] Received message from: Client-01
2025-12-01 14:28:06,066 - fedguard_server - INFO -   Metadata: update #17, loss: 0.002126723527908325
2025-12-01 14:28:06,174 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:06,174 - fedguard_server - INFO -   Updates collected: 1/4
2025-12-01 14:28:06,175 - fedguard_server - INFO - 
[Round 1] Received message from: Client-02
2025-12-01 14:28:06,175 - fedguard_server - INFO -   Metadata: update #12, loss: 0.005294747184962034
2025-12-01 14:28:06,280 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-02
2025-12-01 14:28:06,281 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:06,281 - fedguard_server - INFO - 
[Round 1] Received message from: Client-03
2025-12-01 14:28:06,281 - fedguard_server - INFO -   Metadata: update #8, loss: 0.0051230513490736485
2025-12-01 14:28:06,396 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-03
2025-12-01 14:28:06,397 - fedguard_server - INFO -   Updates collected: 3/4
2025-12-01 14:28:06,397 - fedguard_server - INFO - 
[Round 1] Received message from: Client-02
2025-12-01 14:28:06,398 - fedguard_server - INFO -   Metadata: update #13, loss: 0.005255880765616894
2025-12-01 14:28:06,508 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-02
2025-12-01 14:28:06,508 - fedguard_server - INFO -   Updates collected: 3/4
2025-12-01 14:28:06,509 - fedguard_server - INFO - 
[Round 1] Received message from: Client-03
2025-12-01 14:28:06,509 - fedguard_server - INFO -   Metadata: update #9, loss: 0.004923778120428324
2025-12-01 14:28:06,608 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-03
2025-12-01 14:28:06,608 - fedguard_server - INFO -   Updates collected: 3/4
2025-12-01 14:28:06,609 - fedguard_server - INFO - 
[Round 1] Received message from: Malicious-Attacker-01
2025-12-01 14:28:06,609 - fedguard_server - INFO -   Metadata: update #1, loss: N/A
2025-12-01 14:28:06,706 - fedguard_server - INFO -   ✓ Received 30 weight layers from Malicious-Attacker-01
2025-12-01 14:28:06,707 - fedguard_server - INFO -   Updates collected: 4/4
2025-12-01 14:28:06,707 - fedguard_server - INFO - 
============================================================
2025-12-01 14:28:06,707 - fedguard_server - INFO - ROUND 1 - SECURE AGGREGATION
2025-12-01 14:28:06,708 - fedguard_server - INFO - ============================================================
2025-12-01 14:28:06,708 - fedguard_server - INFO - 
[SECURITY] Running FedGuard defense...
2025-12-01 14:28:06,804 - fedguard_server - INFO - 
Client Security Scores:
2025-12-01 14:28:06,805 - fedguard_server - INFO -   Client-01                      MAD Score: 0.07493340071900058 - [HONEST]
2025-12-01 14:28:06,805 - fedguard_server - INFO -   Client-02                      MAD Score: -0.07493340071900058 - [HONEST]
2025-12-01 14:28:06,805 - fedguard_server - INFO -   Client-03                      MAD Score: 1.2740665992809994 - [HONEST]
2025-12-01 14:28:06,806 - fedguard_server - INFO -   Malicious-Attacker-01          MAD Score: -2136.6079155498956 - [MALICIOUS]
2025-12-01 14:28:06,806 - fedguard_server - INFO - 
Verdict: 3 honest, 1 malicious
2025-12-01 14:28:06,806 - fedguard_server - WARNING - [WARNING] Blocked: Malicious-Attacker-01
2025-12-01 14:28:06,840 - fedguard_server - INFO - 
Model divergence:
2025-12-01 14:28:06,840 - fedguard_server - INFO -   L2 distance: 64.729965
2025-12-01 14:28:06,840 - fedguard_server - INFO -   Cosine similarity: 0.004374
2025-12-01 14:28:06,956 - fedguard_server - INFO - 
[OK] Model saved to: C:\Users\Nandini Devi\FedGuard-Project\results\models\global_model_secured.h5
2025-12-01 14:28:06,957 - fedguard_server - INFO -      Model has 20 layers
2025-12-01 14:28:06,959 - fedguard_server - INFO - Round stats saved to: C:\Users\Nandini Devi\FedGuard-Project\results\metrics\round_001_stats.json
2025-12-01 14:28:06,959 - fedguard_server - INFO - ============================================================

2025-12-01 14:28:06,960 - fedguard_server - INFO - 
[Round 2] Received message from: Malicious-Attacker-01
2025-12-01 14:28:06,960 - fedguard_server - INFO -   Metadata: update #1, loss: N/A
2025-12-01 14:28:07,062 - fedguard_server - INFO -   ✓ Received 30 weight layers from Malicious-Attacker-01
2025-12-01 14:28:07,063 - fedguard_server - INFO -   Updates collected: 1/4
2025-12-01 14:28:07,063 - fedguard_server - INFO - 
[Round 2] Received message from: Client-03
2025-12-01 14:28:07,063 - fedguard_server - INFO -   Metadata: update #1, loss: 0.016672521829605103
2025-12-01 14:28:07,167 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-03
2025-12-01 14:28:07,168 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:07,776 - fedguard_server - INFO - 
[Round 2] Received message from: Malicious-Attacker-01
2025-12-01 14:28:07,776 - fedguard_server - INFO -   Metadata: update #2, loss: N/A
2025-12-01 14:28:07,942 - fedguard_server - INFO -   ✓ Received 30 weight layers from Malicious-Attacker-01
2025-12-01 14:28:07,944 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:07,946 - fedguard_server - INFO - 
[Round 2] Received message from: Client-03
2025-12-01 14:28:07,947 - fedguard_server - INFO -   Metadata: update #2, loss: 0.011080495081841946
2025-12-01 14:28:08,105 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-03
2025-12-01 14:28:08,105 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:08,106 - fedguard_server - INFO - 
[Round 2] Received message from: Client-03
2025-12-01 14:28:08,107 - fedguard_server - INFO -   Metadata: update #3, loss: 0.00978816393762827
2025-12-01 14:28:08,238 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-03
2025-12-01 14:28:08,239 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:08,240 - fedguard_server - INFO - 
[Round 2] Received message from: Client-03
2025-12-01 14:28:08,240 - fedguard_server - INFO -   Metadata: update #4, loss: 0.0074903592467308044
2025-12-01 14:28:08,377 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-03
2025-12-01 14:28:08,378 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:08,379 - fedguard_server - INFO - 
[Round 2] Received message from: Client-02
2025-12-01 14:28:08,379 - fedguard_server - INFO -   Metadata: update #1, loss: 0.013528792187571526
2025-12-01 14:28:08,508 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-02
2025-12-01 14:28:08,509 - fedguard_server - INFO -   Updates collected: 3/4
2025-12-01 14:28:08,509 - fedguard_server - INFO - 
[Round 2] Received message from: Malicious-Attacker-01
2025-12-01 14:28:08,510 - fedguard_server - INFO -   Metadata: update #3, loss: N/A
2025-12-01 14:28:08,637 - fedguard_server - INFO -   ✓ Received 30 weight layers from Malicious-Attacker-01
2025-12-01 14:28:08,637 - fedguard_server - INFO -   Updates collected: 3/4
2025-12-01 14:28:08,638 - fedguard_server - INFO - 
[Round 2] Received message from: Client-03
2025-12-01 14:28:08,638 - fedguard_server - INFO -   Metadata: update #5, loss: 0.0070053813979029655
2025-12-01 14:28:08,764 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-03
2025-12-01 14:28:08,765 - fedguard_server - INFO -   Updates collected: 3/4
2025-12-01 14:28:08,765 - fedguard_server - INFO - 
[Round 2] Received message from: Client-02
2025-12-01 14:28:08,766 - fedguard_server - INFO -   Metadata: update #2, loss: 0.00992211326956749
2025-12-01 14:28:08,900 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-02
2025-12-01 14:28:08,901 - fedguard_server - INFO -   Updates collected: 3/4
2025-12-01 14:28:09,516 - fedguard_server - INFO - 
[Round 2] Received message from: Client-01
2025-12-01 14:28:09,516 - fedguard_server - INFO -   Metadata: update #1, loss: 0.012606402859091759
2025-12-01 14:28:09,641 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:09,641 - fedguard_server - INFO -   Updates collected: 4/4
2025-12-01 14:28:09,642 - fedguard_server - INFO - 
============================================================
2025-12-01 14:28:09,642 - fedguard_server - INFO - ROUND 2 - SECURE AGGREGATION
2025-12-01 14:28:09,642 - fedguard_server - INFO - ============================================================
2025-12-01 14:28:09,644 - fedguard_server - INFO - 
[SECURITY] Running FedGuard defense...
2025-12-01 14:28:09,761 - fedguard_server - INFO - 
Client Security Scores:
2025-12-01 14:28:09,761 - fedguard_server - INFO -   Malicious-Attacker-01          MAD Score: -2834.1464743249057 - [MALICIOUS]
2025-12-01 14:28:09,762 - fedguard_server - INFO -   Client-03                      MAD Score: -0.5478871081651291 - [HONEST]
2025-12-01 14:28:09,763 - fedguard_server - INFO -   Client-02                      MAD Score: 0.8011128918348709 - [HONEST]
2025-12-01 14:28:09,763 - fedguard_server - INFO -   Client-01                      MAD Score: 0.5478871081651291 - [HONEST]
2025-12-01 14:28:09,764 - fedguard_server - INFO - 
Verdict: 3 honest, 1 malicious
2025-12-01 14:28:09,764 - fedguard_server - WARNING - [WARNING] Blocked: Malicious-Attacker-01
2025-12-01 14:28:09,815 - fedguard_server - INFO - 
Model divergence:
2025-12-01 14:28:09,816 - fedguard_server - INFO -   L2 distance: 64.532333
2025-12-01 14:28:09,816 - fedguard_server - INFO -   Cosine similarity: 0.004219
2025-12-01 14:28:09,988 - fedguard_server - INFO - 
[OK] Model saved to: C:\Users\Nandini Devi\FedGuard-Project\results\models\global_model_secured.h5
2025-12-01 14:28:09,988 - fedguard_server - INFO -      Model has 20 layers
2025-12-01 14:28:09,990 - fedguard_server - INFO - Round stats saved to: C:\Users\Nandini Devi\FedGuard-Project\results\metrics\round_002_stats.json
2025-12-01 14:28:09,990 - fedguard_server - INFO - ============================================================

2025-12-01 14:28:09,991 - fedguard_server - INFO - 
[Round 3] Received message from: Malicious-Attacker-01
2025-12-01 14:28:09,991 - fedguard_server - INFO -   Metadata: update #1, loss: N/A
2025-12-01 14:28:10,100 - fedguard_server - INFO -   ✓ Received 30 weight layers from Malicious-Attacker-01
2025-12-01 14:28:10,100 - fedguard_server - INFO -   Updates collected: 1/4
2025-12-01 14:28:10,101 - fedguard_server - INFO - 
[Round 3] Received message from: Malicious-Attacker-01
2025-12-01 14:28:10,101 - fedguard_server - INFO -   Metadata: update #2, loss: N/A
2025-12-01 14:28:10,209 - fedguard_server - INFO -   ✓ Received 30 weight layers from Malicious-Attacker-01
2025-12-01 14:28:10,210 - fedguard_server - INFO -   Updates collected: 1/4
2025-12-01 14:28:10,210 - fedguard_server - INFO - 
[Round 3] Received message from: Malicious-Attacker-01
2025-12-01 14:28:10,211 - fedguard_server - INFO -   Metadata: update #1, loss: N/A
2025-12-01 14:28:10,326 - fedguard_server - INFO -   ✓ Received 30 weight layers from Malicious-Attacker-01
2025-12-01 14:28:10,327 - fedguard_server - INFO -   Updates collected: 1/4
2025-12-01 14:28:10,328 - fedguard_server - INFO - 
[Round 3] Received message from: Malicious-Attacker-01
2025-12-01 14:28:10,328 - fedguard_server - INFO -   Metadata: update #2, loss: N/A
2025-12-01 14:28:10,436 - fedguard_server - INFO -   ✓ Received 30 weight layers from Malicious-Attacker-01
2025-12-01 14:28:10,437 - fedguard_server - INFO -   Updates collected: 1/4
2025-12-01 14:28:10,437 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:10,438 - fedguard_server - INFO -   Metadata: update #1, loss: 0.012571713887155056
2025-12-01 14:28:10,544 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:10,545 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:10,545 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:10,546 - fedguard_server - INFO -   Metadata: update #2, loss: 0.007022291887551546
2025-12-01 14:28:10,651 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:10,652 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:10,652 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:10,653 - fedguard_server - INFO -   Metadata: update #3, loss: 0.00555385509505868
2025-12-01 14:28:10,764 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:10,764 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:11,303 - fedguard_server - INFO - 
[Round 3] Received message from: Malicious-Attacker-01
2025-12-01 14:28:11,304 - fedguard_server - INFO -   Metadata: update #1, loss: N/A
2025-12-01 14:28:11,424 - fedguard_server - INFO -   ✓ Received 30 weight layers from Malicious-Attacker-01
2025-12-01 14:28:11,425 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:11,425 - fedguard_server - INFO - 
[Round 3] Received message from: Malicious-Attacker-01
2025-12-01 14:28:11,426 - fedguard_server - INFO -   Metadata: update #1, loss: N/A
2025-12-01 14:28:11,534 - fedguard_server - INFO -   ✓ Received 30 weight layers from Malicious-Attacker-01
2025-12-01 14:28:11,534 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:11,534 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:11,535 - fedguard_server - INFO -   Metadata: update #1, loss: 0.012740038335323334
2025-12-01 14:28:11,659 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:11,660 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:11,660 - fedguard_server - INFO - 
[Round 3] Received message from: Malicious-Attacker-01
2025-12-01 14:28:11,661 - fedguard_server - INFO -   Metadata: update #2, loss: N/A
2025-12-01 14:28:11,788 - fedguard_server - INFO -   ✓ Received 30 weight layers from Malicious-Attacker-01
2025-12-01 14:28:11,789 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:11,789 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:11,790 - fedguard_server - INFO -   Metadata: update #2, loss: 0.007380074821412563
2025-12-01 14:28:11,903 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:11,904 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:11,905 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:11,905 - fedguard_server - INFO -   Metadata: update #3, loss: 0.005717894993722439
2025-12-01 14:28:12,015 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:12,016 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:12,016 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:12,016 - fedguard_server - INFO -   Metadata: update #4, loss: 0.004518382251262665
2025-12-01 14:28:12,131 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:12,131 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:12,132 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:12,132 - fedguard_server - INFO -   Metadata: update #5, loss: 0.003688437631353736
2025-12-01 14:28:12,233 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:12,234 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:12,785 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:12,786 - fedguard_server - INFO -   Metadata: update #6, loss: 0.00336447823792696
2025-12-01 14:28:12,914 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:12,915 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:12,915 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:12,916 - fedguard_server - INFO -   Metadata: update #7, loss: 0.003045620396733284
2025-12-01 14:28:13,116 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:13,117 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:13,117 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:13,119 - fedguard_server - INFO -   Metadata: update #8, loss: 0.0031978324986994267
2025-12-01 14:28:13,281 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:13,281 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:13,282 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:13,283 - fedguard_server - INFO -   Metadata: update #9, loss: 0.0031799194402992725
2025-12-01 14:28:13,415 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:13,416 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:13,416 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:13,417 - fedguard_server - INFO -   Metadata: update #1, loss: 0.012610865756869316
2025-12-01 14:28:13,566 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:13,568 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:13,569 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:13,570 - fedguard_server - INFO -   Metadata: update #10, loss: 0.002278560306876898
2025-12-01 14:28:13,715 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:13,715 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:13,716 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:13,717 - fedguard_server - INFO -   Metadata: update #2, loss: 0.007469273637980223
2025-12-01 14:28:13,844 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:13,845 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:13,846 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:13,846 - fedguard_server - INFO -   Metadata: update #11, loss: 0.001692514168098569
2025-12-01 14:28:13,965 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:13,965 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:14,284 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:14,285 - fedguard_server - INFO -   Metadata: update #3, loss: 0.005760477855801582
2025-12-01 14:28:14,401 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:14,402 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:14,402 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:14,403 - fedguard_server - INFO -   Metadata: update #12, loss: 0.0017412842717021704
2025-12-01 14:28:14,514 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:14,515 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:14,515 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:14,516 - fedguard_server - INFO -   Metadata: update #1, loss: 0.012483618222177029
2025-12-01 14:28:14,628 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:14,628 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:14,629 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:14,629 - fedguard_server - INFO -   Metadata: update #4, loss: 0.0046529644168913364
2025-12-01 14:28:14,735 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:14,736 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:14,736 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:14,736 - fedguard_server - INFO -   Metadata: update #13, loss: 0.002017480554059148
2025-12-01 14:28:14,850 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:14,851 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:15,227 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:15,227 - fedguard_server - INFO -   Metadata: update #2, loss: 0.007284169550985098
2025-12-01 14:28:15,332 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:15,333 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:15,334 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:15,334 - fedguard_server - INFO -   Metadata: update #5, loss: 0.0036022106651216745
2025-12-01 14:28:15,447 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:15,448 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:15,448 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:15,448 - fedguard_server - INFO -   Metadata: update #14, loss: 0.002295101061463356
2025-12-01 14:28:15,565 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:15,566 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:15,567 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:15,568 - fedguard_server - INFO -   Metadata: update #3, loss: 0.0056840102188289165
2025-12-01 14:28:15,678 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:15,678 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:15,679 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:15,679 - fedguard_server - INFO -   Metadata: update #6, loss: 0.003420614404603839
2025-12-01 14:28:15,799 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:15,800 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:15,800 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:15,801 - fedguard_server - INFO -   Metadata: update #4, loss: 0.004540177993476391
2025-12-01 14:28:15,923 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:15,924 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:15,924 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:15,925 - fedguard_server - INFO -   Metadata: update #7, loss: 0.0030753961764276028
2025-12-01 14:28:16,038 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:16,039 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:16,039 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:16,040 - fedguard_server - INFO -   Metadata: update #5, loss: 0.0035765317734330893
2025-12-01 14:28:16,152 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:16,153 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:16,569 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:16,569 - fedguard_server - INFO -   Metadata: update #8, loss: 0.00324059184640646
2025-12-01 14:28:16,657 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:16,658 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:16,658 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:16,658 - fedguard_server - INFO -   Metadata: update #6, loss: 0.003354712389409542
2025-12-01 14:28:16,751 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:16,752 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:16,752 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:16,752 - fedguard_server - INFO -   Metadata: update #9, loss: 0.0031722525600343943
2025-12-01 14:28:16,846 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:16,846 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:16,847 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:16,847 - fedguard_server - INFO -   Metadata: update #7, loss: 0.0030539953149855137
2025-12-01 14:28:16,941 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:16,942 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:16,942 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:16,943 - fedguard_server - INFO -   Metadata: update #10, loss: 0.002285849768668413
2025-12-01 14:28:17,043 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:17,044 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:17,044 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:17,044 - fedguard_server - INFO -   Metadata: update #8, loss: 0.0032584923319518566
2025-12-01 14:28:17,151 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:17,151 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:17,152 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:17,152 - fedguard_server - INFO -   Metadata: update #11, loss: 0.0016936457250267267
2025-12-01 14:28:17,248 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:17,248 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:17,248 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:17,249 - fedguard_server - INFO -   Metadata: update #12, loss: 0.0017411005683243275
2025-12-01 14:28:17,350 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:17,350 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:17,726 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:17,727 - fedguard_server - INFO -   Metadata: update #13, loss: 0.0020334101282060146
2025-12-01 14:28:17,835 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:17,835 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:17,836 - fedguard_server - INFO - 
[Round 3] Received message from: Client-01
2025-12-01 14:28:17,836 - fedguard_server - INFO -   Metadata: update #14, loss: 0.0023135768715292215
2025-12-01 14:28:17,949 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:17,949 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:17,950 - fedguard_server - INFO - 
[Round 3] Received message from: Client-03
2025-12-01 14:28:17,950 - fedguard_server - INFO -   Metadata: update #1, loss: 0.01743851602077484
2025-12-01 14:28:18,063 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-03
2025-12-01 14:28:18,064 - fedguard_server - INFO -   Updates collected: 3/4
2025-12-01 14:28:18,064 - fedguard_server - INFO - 
[Round 3] Received message from: Client-03
2025-12-01 14:28:18,065 - fedguard_server - INFO -   Metadata: update #2, loss: 0.011346433311700821
2025-12-01 14:28:18,176 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-03
2025-12-01 14:28:18,176 - fedguard_server - INFO -   Updates collected: 3/4
2025-12-01 14:28:18,177 - fedguard_server - INFO - 
[Round 3] Received message from: Client-03
2025-12-01 14:28:18,177 - fedguard_server - INFO -   Metadata: update #3, loss: 0.009534234181046486
2025-12-01 14:28:18,285 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-03
2025-12-01 14:28:18,285 - fedguard_server - INFO -   Updates collected: 3/4
2025-12-01 14:28:18,286 - fedguard_server - INFO - 
[Round 3] Received message from: Client-03
2025-12-01 14:28:18,286 - fedguard_server - INFO -   Metadata: update #4, loss: 0.007320167031139135
2025-12-01 14:28:18,391 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-03
2025-12-01 14:28:18,392 - fedguard_server - INFO -   Updates collected: 3/4
2025-12-01 14:28:18,392 - fedguard_server - INFO - 
[Round 3] Received message from: Client-02
2025-12-01 14:28:18,393 - fedguard_server - INFO -   Metadata: update #1, loss: 0.013615809381008148
2025-12-01 14:28:18,498 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-02
2025-12-01 14:28:18,499 - fedguard_server - INFO -   Updates collected: 4/4
2025-12-01 14:28:18,499 - fedguard_server - INFO - 
============================================================
2025-12-01 14:28:18,500 - fedguard_server - INFO - ROUND 3 - SECURE AGGREGATION
2025-12-01 14:28:18,500 - fedguard_server - INFO - ============================================================
2025-12-01 14:28:18,501 - fedguard_server - INFO - 
[SECURITY] Running FedGuard defense...
2025-12-01 14:28:18,596 - fedguard_server - INFO - 
Client Security Scores:
2025-12-01 14:28:18,596 - fedguard_server - INFO -   Malicious-Attacker-01          MAD Score: -1150.174513177467 - [MALICIOUS]
2025-12-01 14:28:18,597 - fedguard_server - INFO -   Client-01                      MAD Score: -0.664519191425007 - [HONEST]
2025-12-01 14:28:18,597 - fedguard_server - INFO -   Client-03                      MAD Score: 0.6645191914248151 - [HONEST]
2025-12-01 14:28:18,597 - fedguard_server - INFO -   Client-02                      MAD Score: 0.6844808085749928 - [HONEST]
2025-12-01 14:28:18,597 - fedguard_server - INFO - 
Verdict: 3 honest, 1 malicious
2025-12-01 14:28:18,598 - fedguard_server - WARNING - [WARNING] Blocked: Malicious-Attacker-01
2025-12-01 14:28:18,642 - fedguard_server - INFO - 
Model divergence:
2025-12-01 14:28:18,642 - fedguard_server - INFO -   L2 distance: 64.604630
2025-12-01 14:28:18,643 - fedguard_server - INFO -   Cosine similarity: 0.004170
2025-12-01 14:28:18,794 - fedguard_server - INFO - 
[OK] Model saved to: C:\Users\Nandini Devi\FedGuard-Project\results\models\global_model_secured.h5
2025-12-01 14:28:18,795 - fedguard_server - INFO -      Model has 20 layers
2025-12-01 14:28:18,796 - fedguard_server - INFO - Round stats saved to: C:\Users\Nandini Devi\FedGuard-Project\results\metrics\round_003_stats.json
2025-12-01 14:28:18,797 - fedguard_server - INFO - ============================================================

2025-12-01 14:28:18,797 - fedguard_server - INFO - 
[Round 4] Received message from: Client-03
2025-12-01 14:28:18,797 - fedguard_server - INFO -   Metadata: update #5, loss: 0.006817228626459837
2025-12-01 14:28:18,898 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-03
2025-12-01 14:28:18,899 - fedguard_server - INFO -   Updates collected: 1/4
2025-12-01 14:28:19,275 - fedguard_server - INFO - 
[Round 4] Received message from: Client-02
2025-12-01 14:28:19,275 - fedguard_server - INFO -   Metadata: update #2, loss: 0.010046208277344704
2025-12-01 14:28:19,385 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-02
2025-12-01 14:28:19,386 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:19,386 - fedguard_server - INFO - 
[Round 4] Received message from: Client-02
2025-12-01 14:28:19,387 - fedguard_server - INFO -   Metadata: update #3, loss: 0.008665910921990871
2025-12-01 14:28:19,519 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-02
2025-12-01 14:28:19,519 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:19,520 - fedguard_server - INFO - 
[Round 4] Received message from: Client-03
2025-12-01 14:28:19,520 - fedguard_server - INFO -   Metadata: update #6, loss: 0.006307778414338827
2025-12-01 14:28:19,647 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-03
2025-12-01 14:28:19,648 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:19,648 - fedguard_server - INFO - 
[Round 4] Received message from: Client-02
2025-12-01 14:28:19,649 - fedguard_server - INFO -   Metadata: update #4, loss: 0.006933380849659443
2025-12-01 14:28:19,780 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-02
2025-12-01 14:28:19,781 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:19,782 - fedguard_server - INFO - 
[Round 4] Received message from: Client-03
2025-12-01 14:28:19,782 - fedguard_server - INFO -   Metadata: update #7, loss: 0.0057541318237781525
2025-12-01 14:28:19,908 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-03
2025-12-01 14:28:19,909 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:19,910 - fedguard_server - INFO - 
[Round 4] Received message from: Client-02
2025-12-01 14:28:19,911 - fedguard_server - INFO -   Metadata: update #5, loss: 0.0065076351165771484
2025-12-01 14:28:20,027 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-02
2025-12-01 14:28:20,028 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:20,028 - fedguard_server - INFO - 
[Round 4] Received message from: Client-03
2025-12-01 14:28:20,029 - fedguard_server - INFO -   Metadata: update #8, loss: 0.004923626780509949
2025-12-01 14:28:20,134 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-03
2025-12-01 14:28:20,134 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:20,135 - fedguard_server - INFO - 
[Round 4] Received message from: Client-02
2025-12-01 14:28:20,135 - fedguard_server - INFO -   Metadata: update #6, loss: 0.006141992285847664
2025-12-01 14:28:20,236 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-02
2025-12-01 14:28:20,237 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:20,653 - fedguard_server - INFO - 
[Round 4] Received message from: Client-03
2025-12-01 14:28:20,654 - fedguard_server - INFO -   Metadata: update #9, loss: 0.004762526135891676
2025-12-01 14:28:20,774 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-03
2025-12-01 14:28:20,774 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:20,775 - fedguard_server - INFO - 
[Round 4] Received message from: Malicious-Attacker-01
2025-12-01 14:28:20,775 - fedguard_server - INFO -   Metadata: update #1, loss: N/A
2025-12-01 14:28:20,885 - fedguard_server - INFO -   ✓ Received 30 weight layers from Malicious-Attacker-01
2025-12-01 14:28:20,886 - fedguard_server - INFO -   Updates collected: 3/4
2025-12-01 14:28:20,886 - fedguard_server - INFO - 
[Round 4] Received message from: Client-02
2025-12-01 14:28:20,887 - fedguard_server - INFO -   Metadata: update #7, loss: 0.0056544216349720955
2025-12-01 14:28:21,110 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-02
2025-12-01 14:28:21,110 - fedguard_server - INFO -   Updates collected: 3/4
2025-12-01 14:28:21,111 - fedguard_server - INFO - 
[Round 4] Received message from: Client-03
2025-12-01 14:28:21,111 - fedguard_server - INFO -   Metadata: update #10, loss: 0.004460143856704235
2025-12-01 14:28:21,239 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-03
2025-12-01 14:28:21,239 - fedguard_server - INFO -   Updates collected: 3/4
2025-12-01 14:28:21,240 - fedguard_server - INFO - 
[Round 4] Received message from: Client-01
2025-12-01 14:28:21,241 - fedguard_server - INFO -   Metadata: update #1, loss: 0.01254970207810402
2025-12-01 14:28:21,352 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:21,352 - fedguard_server - INFO -   Updates collected: 4/4
2025-12-01 14:28:21,353 - fedguard_server - INFO - 
============================================================
2025-12-01 14:28:21,353 - fedguard_server - INFO - ROUND 4 - SECURE AGGREGATION
2025-12-01 14:28:21,354 - fedguard_server - INFO - ============================================================
2025-12-01 14:28:21,355 - fedguard_server - INFO - 
[SECURITY] Running FedGuard defense...
2025-12-01 14:28:21,463 - fedguard_server - INFO - 
Client Security Scores:
2025-12-01 14:28:21,464 - fedguard_server - INFO -   Client-03                      MAD Score: -0.22741869349320437 - [HONEST]
2025-12-01 14:28:21,464 - fedguard_server - INFO -   Client-02                      MAD Score: 0.22741869349320437 - [HONEST]
2025-12-01 14:28:21,465 - fedguard_server - INFO -   Malicious-Attacker-01          MAD Score: -2868.4139669721503 - [MALICIOUS]
2025-12-01 14:28:21,465 - fedguard_server - INFO -   Client-01                      MAD Score: 1.1215813065067957 - [HONEST]
2025-12-01 14:28:21,466 - fedguard_server - INFO - 
Verdict: 3 honest, 1 malicious
2025-12-01 14:28:21,466 - fedguard_server - WARNING - [WARNING] Blocked: Malicious-Attacker-01
2025-12-01 14:28:21,514 - fedguard_server - INFO - 
Model divergence:
2025-12-01 14:28:21,515 - fedguard_server - INFO -   L2 distance: 64.603882
2025-12-01 14:28:21,516 - fedguard_server - INFO -   Cosine similarity: 0.004302
2025-12-01 14:28:21,698 - fedguard_server - INFO - 
[OK] Model saved to: C:\Users\Nandini Devi\FedGuard-Project\results\models\global_model_secured.h5
2025-12-01 14:28:21,698 - fedguard_server - INFO -      Model has 20 layers
2025-12-01 14:28:21,700 - fedguard_server - INFO - Round stats saved to: C:\Users\Nandini Devi\FedGuard-Project\results\metrics\round_004_stats.json
2025-12-01 14:28:21,700 - fedguard_server - INFO - ============================================================

2025-12-01 14:28:21,701 - fedguard_server - INFO - 
[Round 5] Received message from: Client-03
2025-12-01 14:28:21,701 - fedguard_server - INFO -   Metadata: update #11, loss: 0.004161084070801735
2025-12-01 14:28:21,818 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-03
2025-12-01 14:28:21,818 - fedguard_server - INFO -   Updates collected: 1/4
2025-12-01 14:28:21,818 - fedguard_server - INFO - 
[Round 5] Received message from: Client-02
2025-12-01 14:28:21,819 - fedguard_server - INFO -   Metadata: update #8, loss: 0.005736052058637142
2025-12-01 14:28:21,928 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-02
2025-12-01 14:28:21,928 - fedguard_server - INFO -   Updates collected: 2/4
2025-12-01 14:28:21,929 - fedguard_server - INFO - 
[Round 5] Received message from: Client-01
2025-12-01 14:28:21,929 - fedguard_server - INFO -   Metadata: update #2, loss: 0.007185138296335936
2025-12-01 14:28:22,039 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:22,039 - fedguard_server - INFO -   Updates collected: 3/4
2025-12-01 14:28:22,447 - fedguard_server - INFO - 
[Round 5] Received message from: Client-02
2025-12-01 14:28:22,447 - fedguard_server - INFO -   Metadata: update #9, loss: 0.005686095450073481
2025-12-01 14:28:22,576 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-02
2025-12-01 14:28:22,577 - fedguard_server - INFO -   Updates collected: 3/4
2025-12-01 14:28:22,577 - fedguard_server - INFO - 
[Round 5] Received message from: Client-03
2025-12-01 14:28:22,578 - fedguard_server - INFO -   Metadata: update #12, loss: 0.0036978174466639757
2025-12-01 14:28:22,692 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-03
2025-12-01 14:28:22,693 - fedguard_server - INFO -   Updates collected: 3/4
2025-12-01 14:28:22,693 - fedguard_server - INFO - 
[Round 5] Received message from: Client-01
2025-12-01 14:28:22,694 - fedguard_server - INFO -   Metadata: update #3, loss: 0.005554647650569677
2025-12-01 14:28:22,806 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-01
2025-12-01 14:28:22,807 - fedguard_server - INFO -   Updates collected: 3/4
2025-12-01 14:28:22,807 - fedguard_server - INFO - 
[Round 5] Received message from: Client-03
2025-12-01 14:28:22,808 - fedguard_server - INFO -   Metadata: update #13, loss: 0.004475180059671402
2025-12-01 14:28:22,917 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-03
2025-12-01 14:28:22,917 - fedguard_server - INFO -   Updates collected: 3/4
2025-12-01 14:28:22,917 - fedguard_server - INFO - 
[Round 5] Received message from: Client-02
2025-12-01 14:28:22,918 - fedguard_server - INFO -   Metadata: update #10, loss: 0.0054345084354281425
2025-12-01 14:28:23,024 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-02
2025-12-01 14:28:23,025 - fedguard_server - INFO -   Updates collected: 3/4
2025-12-01 14:28:23,026 - fedguard_server - INFO - 
[Round 5] Received message from: Client-02
2025-12-01 14:28:23,026 - fedguard_server - INFO -   Metadata: update #11, loss: 0.005423927213996649
2025-12-01 14:28:23,134 - fedguard_server - INFO -   ✓ Received 30 weight layers from Client-02
2025-12-01 14:28:23,134 - fedguard_server - INFO -   Updates collected: 3/4
2025-12-01 14:28:23,135 - fedguard_server - INFO - 
[Round 5] Received message from: Malicious-Attacker-01
2025-12-01 14:28:23,135 - fedguard_server - INFO -   Metadata: update #1, loss: N/A
2025-12-01 14:28:23,236 - fedguard_server - INFO -   ✓ Received 30 weight layers from Malicious-Attacker-01
2025-12-01 14:28:23,236 - fedguard_server - INFO -   Updates collected: 4/4
2025-12-01 14:28:23,237 - fedguard_server - INFO - 
============================================================
2025-12-01 14:28:23,237 - fedguard_server - INFO - ROUND 5 - SECURE AGGREGATION
2025-12-01 14:28:23,238 - fedguard_server - INFO - ============================================================
2025-12-01 14:28:23,238 - fedguard_server - INFO - 
[SECURITY] Running FedGuard defense...
2025-12-01 14:28:23,327 - fedguard_server - INFO - 
Client Security Scores:
2025-12-01 14:28:23,328 - fedguard_server - INFO -   Client-03                      MAD Score: 0.1501294308823247 - [HONEST]
2025-12-01 14:28:23,328 - fedguard_server - INFO -   Client-02                      MAD Score: -0.1501294308827311 - [HONEST]
2025-12-01 14:28:23,329 - fedguard_server - INFO -   Client-01                      MAD Score: 1.1988705691172687 - [HONEST]
2025-12-01 14:28:23,329 - fedguard_server - INFO -   Malicious-Attacker-01          MAD Score: -2434.1617605696883 - [MALICIOUS]
2025-12-01 14:28:23,330 - fedguard_server - INFO - 
Verdict: 3 honest, 1 malicious
2025-12-01 14:28:23,330 - fedguard_server - WARNING - [WARNING] Blocked: Malicious-Attacker-01
2025-12-01 14:28:23,367 - fedguard_server - INFO - 
Model divergence:
2025-12-01 14:28:23,368 - fedguard_server - INFO -   L2 distance: 64.663986
2025-12-01 14:28:23,368 - fedguard_server - INFO -   Cosine similarity: 0.004356
2025-12-01 14:28:23,513 - fedguard_server - INFO - 
[OK] Model saved to: C:\Users\Nandini Devi\FedGuard-Project\results\models\global_model_secured.h5
2025-12-01 14:28:23,513 - fedguard_server - INFO -      Model has 20 layers
2025-12-01 14:28:23,515 - fedguard_server - INFO - Round stats saved to: C:\Users\Nandini Devi\FedGuard-Project\results\metrics\round_005_stats.json
2025-12-01 14:28:23,515 - fedguard_server - INFO - ============================================================

2025-12-01 14:28:23,516 - fedguard_server - INFO - 
[OK] Completed 5 rounds - stopping
2025-12-01 14:28:23,516 - fedguard_server - INFO - 
============================================================
2025-12-01 14:28:23,516 - fedguard_server - INFO - SERVER SHUTDOWN SUMMARY
2025-12-01 14:28:23,517 - fedguard_server - INFO - ============================================================
2025-12-01 14:28:23,517 - fedguard_server - INFO - Total rounds: 5
2025-12-01 14:28:23,517 - fedguard_server - INFO - Total updates: 92
2025-12-01 14:28:23,518 - fedguard_server - INFO - Attacks blocked: 5
2025-12-01 14:28:23,518 - fedguard_server - INFO - Detection rate: 5.4%
2025-12-01 14:28:23,518 - fedguard_server - INFO - ============================================================
2025-12-01 14:28:23,541 - kafka.coordinator - INFO - Stopping heartbeat thread
2025-12-01 14:28:23,542 - kafka.coordinator - INFO - Leaving consumer group (fedguard-server).
2025-12-01 14:28:23,558 - kafka.conn - INFO - <BrokerConnection node_id=coordinator-1 host=localhost:9092 <connected> [IPv6 ('::1', 9092, 0, 0)]>: Closing connection. 
2025-12-01 14:28:23,560 - kafka.conn - INFO - <BrokerConnection node_id=1 host=localhost:9092 <connected> [IPv6 ('::1', 9092, 0, 0)]>: Closing connection. 
